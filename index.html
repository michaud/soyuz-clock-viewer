<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>[under construction]Soyuz Electro mechanical space clock</title>
	<style>
		@font-face {

			font-family: 'chathurabold';
			src: url('./assets/font/chathura-bold-webfont.woff2') format('woff2'),
				url('./assets/font/chathura-bold-webfont.woff') format('woff');
			font-weight: normal;
			font-style: normal;
		}

		@font-face {

			font-family: 'chathuraextrabold';
			src: url('./assets/font/chathura-extrabold-webfont.woff2') format('woff2'),
				url('./assets/font/chathura-extrabold-webfont.woff') format('woff');
			font-weight: normal;
			font-style: normal;
		}

		@font-face {

			font-family: 'chathuraregular';
			src: url('./assets/font/chathura-regular-webfont.woff2') format('woff2'),
				url('./assets/font/chathura-regular-webfont.woff') format('woff');
			font-weight: normal;
			font-style: normal;
		}

		@font-face {

			font-family: 'inria_sansbold';
			src: url('./assets/font/inriasans-bold-webfont.woff2') format('woff2'),
				url('./assets/font/inriasans-bold-webfont.woff') format('woff');
			font-weight: normal;
			font-style: normal;
		}

		@font-face {

			font-family: 'inria_sansitalic';
			src: url('./assets/font/inriasans-italic-webfont.woff2') format('woff2'),
				url('./assets/font/inriasans-italic-webfont.woff') format('woff');
			font-weight: normal;
			font-style: normal;
		}

		@font-face {

			font-family: 'inria_sansregular';
			src: url('./assets/font/inriasans-regular-webfont.woff2') format('woff2'),
				url('./assets/font/inriasans-regular-webfont.woff') format('woff');
			font-weight: normal;
			font-style: normal;
		}

		:root {

			--button-radius: .33rem;
		}

		html {

			font-size: 100%;
		}

		html,
		body {
			box-sizing: border-box;
			height: 100vh;
			margin: 0;
			padding: 0;
			overflow: hidden;
			font-family: 'inria_sansregular';
			font-size: 1.125rem;
			line-height: 1.25;
			background-color: rgb(53 82 76);
		}

		#scene {

			position: absolute;
			top: 0;
			width: 100%;
			bottom: 100vh;
			height: 100%;
		}

		#border {

			position: absolute;
			top: -20px;
			left: -20px;
			right: -20px;
			bottom: -20px;
			border: 50px solid rgb(0 0 0 / 20%);
			border-radius: 70px;
			pointer-events: none;
		}

		#tools {

			display: flex;
			flex-direction: column;
			position: absolute;
			top: 30px;
			width: 22rem;
			left: 30px;
			bottom: 30px;
			background-color: rgb(255 255 255 / 10%);
			border-radius: 15px 0 0 15px;
			backdrop-filter: blur(30px);
		}

		#debugContainer {

			position: absolute;
			top: 30px;
			width: 22rem;
			right: 30px;
			bottom: 30px;
			padding: 1rem;
			background-color: rgb(255 255 255 / 10%);
			border-radius: 0 15px 15px 0;
			word-wrap: break-word;
			font-weight: bold;
			font-size: 1.5rem;
			pointer-events: none;
			backdrop-filter: blur(30px);
		}

		.tools__header {

			flex-grow: 0;
			max-height: 15rem;
			padding-top: 10rem;
			padding-bottom: 1rem;

			background-image: url(./assets/soyuz_inside.jpg);
			background-size: cover;
			background-repeat: no-repeat;
			border-radius: 1rem 0 0 0;
		}

		.tools__heading {

			position: relative;
			color: rgba(11, 77, 101);
			padding: 0 1rem;
			margin: 0 1rem;
			font-family: 'chathuraextrabold';
			font-size: 4rem;
			line-height: 1;
			border-radius: 20px 44px 44px 20px;
			background-color: rgba(255 255 255 / 85%);
		}

		.tools__heading:after {

			content: "under construction";
			position: absolute;
			top: -37px;
			left: 155px;
			padding: 0.5rem 2rem;
			transform: rotate(340deg);
			background-color: rgb(56 121 126 / 90%);
			font-family: 'inria_sansbold';
			font-size: 1.2rem;
			color: rgb(255 255 255);
			text-align: center;
		}

		.tools_list {

			display: flex;
			flex-grow: 0;
			flex-direction: column;
			gap: .5rem;
			margin: 1rem;
		}

		.description {

			flex-grow: 1;
			overflow-y: auto;
			margin: 0;
			background-color: rgb(255 255 255 / 50%);
		}

		.btn {

			display: inline-block;
			vertical-align: top;
			padding: .25rem .5rem;
			background-color: rgba(24 104 133 / 60%);
			border-top: none;
			border-right: 3px solid rgba(255, 255, 255, 0);
			border-bottom: none;
			border-left: 3px solid rgba(255, 255, 255, 0);
			border-radius: var(--button-radius);
			color: white;
			font-family: 'inria_sansbold';
			font-size: 1.25rem;
			min-height: 2.5rem;
		}

		.btn--connect-end {

			border-radius: var(--button-radius) 0 0 var(--button-radius);
			padding: .25rem .125rem .25rem .5rem;
		}

		.btn--connect-start {

			border-radius: 0 var(--button-radius) var(--button-radius) 0;
			padding: .25rem .25rem .25rem .125rem;
		}

		.btn__label {

			display: inline-block;
			padding: 0 .5rem;
		}


		.btn:hover {

			background-color: rgba(24 104 133 / 80%);
		}

		.btn--nav:hover {

			background-color: rgba(24 104 133 / 80%);
			border-left: 3px solid rgba(255, 255, 255, 0.5);
			border-right: 3px solid rgba(255, 255, 255, 0.5);
		}

		.detail {

			border-bottom: 1px solid rgb(24 104 133);
		}

		.detail summary {

			position: relative;
			padding: .5rem 1.5rem;
		}

		.detail summary:hover,
		.detail.hilite {

			background-color: rgba(255 255 255 / 25%);
		}

		.detail[open] summary:before {

			content: '';
			position: absolute;
			left: 0;
			top: 0;
			bottom: 0;
			width: .5rem;
			background-color: rgba(11, 77, 101);
		}

		.detail h3 {

			display: inline;
			margin: 0;
		}

		.detail summary:focus {

			outline: 1px solid green;
		}

		.detail summary p:first-of-type {

			margin-block-start: 0;
		}

		.detail summary p:last-of-type {

			margin-block-end: 0;
		}

		.detail__content {

			margin: 1rem 1.5rem;
		}

		.switch {

			display: inline-block;
			width: 3rem;
			height: 1.6rem;
			border: 2px solid white;
			border-radius: 2rem;
			text-align: left;
			background-color: rgba(255, 255, 255, 0.1);
			pointer-events: none;
		}

		.switch.on {

			text-align: right;
		}

		.switch__knob {

			pointer-events: none;
			margin: .125rem .25rem 0 .25rem;
		}

		.knob__icon {

			fill: rgba(255, 255, 255, 0.5);
		}

		.on .knob__icon {

			fill: white;
		}

		.toolbar {
			display: flex;
			gap: .5rem;
			margin: 1rem;
		}
	</style>
	<script src="/js/lib/luxon.min.js"></script>
	<script src="https://unpkg.com/xstate@4/dist/xstate.js"></script>
</head>

<body>
	<div id="scene"></div>
	<aside id="tools">
		<div class="tools__header">
			<h2 class="tools__heading">Soyuz Space clock</h2>
		</div>
		<div class="description">
			<div class="toolbar">
				<div>
					<button title="show hilites on device" class="btn btn--connect-end"
						id="show-hilite">hilite</button><button class="btn btn--connect-start"
						title="turn hilites on or off" id="toggle-hilite-switch">
						<div class="hilite-switch switch on">
							<svg class="switch__knob" viewport="0 0 24 24" width="24" height="24">
								<path class="knob__icon" fill="#fff"
									d="M6 14l3 3v5h6v-5l3-3V9H6v5zm5-12h2v3h-2V2zM3.5 5.88l1.41-1.41 2.12 2.12L5.62 8 3.5 5.88zm13.46.71l2.12-2.12 1.41 1.41L18.38 8l-1.42-1.41z" />
							</svg>
						</div>
					</button>
				</div>
				<button class="btn" id="connect">connect</button>
				<button class="btn" id="open-close">open</button>
			</div>
			<details data-target="device" class="detail">
				<summary>
					<h3>The device</h3>
					<p>This is a <a
							href="https://www.flickr.com/photos/jurvetson/8328690534/in/album-72157623704246792/">clock</a>
						that was used in the early Soyuz T spacecraft in the late sixties
					</p>
				</summary>
				<div class="detail__content">
					<p>It is electro-mechanical which means there are electronic parts but there are also gears and
						springs.</p>
					</p>
					<p></p>
					<p>Later it was also used in the Buran space shuttle.</p>
					<p>It is part of the <a
							href="https://www.flickr.com/photos/jurvetson/albums/72157623704246792">Space
							Collection</a> of Steve Jurvetson.
					</p>
				</div>
			</details>
			<details data-target="clock" class="detail">
				<summary>
					<h3>Clock</h3>
					<p>Show the time driven by an external signal</p>
				</summary>
				<div class="detail__content">
					<p>The clock has the distinct 24 hour display. It has a resolution of half seconds.</p>
				</div>
			</details>
			<details data-target="alarm" class="detail">
				<summary>
					<h3>Alarm</h3>
					<p>It chimes when the alarm time is reached</p>
				</summary>
				<div class="detail__content">
					<p>The alarm has the distinct 24 hour display.</p>
				</div>
			</details>
			<details data-target="chronometer" class="detail">
				<summary>
					<h3>Chronometer/stopwatch</h3>
					<p>Has the distinct 24 hour display</p>
				</summary>
				<div class="detail__content">
					<p>The stopwatch has sequential states: Reset, start and stop.</p>
				</div>
			</details>
			<details data-target="mission_timer" class="detail">
				<summary>
					<h3>Mission Timer</h3>
					<p>Shows the time of the mission</p>
				</summary>
				<div class="detail__content">
					<p>The reset button is heavy</p>
				</div>
			</details>
			<details class="detail">
				<summary>
					<h3>Made by Cryogi</h3>
					<p>This is build with Blender &amp; Threejs</p>
				</summary>
				<div class="detail__content">
					<p>Curious Marc posted a video about the opening of the Soyuz Space clock and Ken said: 'Now
						somebody needs to make a 3D model of it'. And I thought: hey, I can do that!</p>
					<p>It seemed a worthwhile project and I would learn a lot. At first I was just thinking of making
						the 3D model but there was a lot you could explain about the device so making the model
						interactive and adding explanations became the next challenge.</p>
					<p>The model was made in Blender and exported in the gltf format. It is loaded and displayed on the
						webpage with the Threejs library.</p>
				</div>
			</details>
		</div>
		<nav class="tools_list">
			<button class="btn" id="reset-camera">reset view</button>
		</nav>
	</aside>
	<aside id="debugContainer"><pre id="debug"></pre></aside>
	<div id="border"></div>

	<!-- <script src="./node_modules/three/build/three.js"></script> -->
	<!-- <script src="./node_modules/three/build/three.module.js"></script> -->

	<script type="module" src="./js/app.js"></script>
</body>

</html>
